<!DOCTYPE html>
<html>
  <head>
    <title>Ticket Map</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
    <script src="node_modules/datamaps/dist/datamaps.all.min.js"></script>
    <script src="node_modules/chroniton/example/bundle.js"></script>
    <link href='node_modules/chroniton/chroniton-example.css' rel='stylesheet' type='text/css' />
  </head>
  <body>

    <div id="arcs" style="position: relative; width: 1000px; height: 500px;"></div>
    <div id="slider"></div>


    <script>
      var d3 = require('chroniton');
      var chroniton = require('/node_modules/chroniton');
      var election = new Datamap({
              scope: 'usa',
              element: document.getElementById('arcs'),
              projection: 'albers'
            });


          var presidentialTrips = [
        {
          origin: 'CA',
          destination: 'TX'
        },
        {
          origin: 'OR',
          destination: 'TX'
        },
        {
          origin: 'NY',
          destination: 'TX'
        },
        {
            origin: {
                latitude: 40.639722,
                longitude: -73.778889
            },
            destination: {
                latitude: 37.618889,
                longitude: -122.375
            }
        },
        {
            origin: {
                latitude: 30.194444,
                longitude: -97.67
            },
            destination: {
                latitude: 25.793333,
                longitude: -80.290556
            },
            options: {
              strokeWidth: 2,
              strokeColor: 'rgba(100, 10, 200, 0.4)',
              greatArc: true
            }
        },
        {
            origin: {
                latitude: 39.861667,
                longitude: -104.673056
            },
            destination: {
                latitude: 35.877778,
                longitude: -78.7875
            }
        }
      ];

        election.arc( presidentialTrips, {strokeWidth: 2});
    

      (function() {
      d3.select('#slider')
          .append('div')
          .call(
            chroniton()
              .domain([new Date(+new Date() - 60 * 1000), new Date()])
              .labelFormat(d3.time.format('%X'))
              .playButton(true)
              .width(400));
      })();

    </script>

  </body>
</html>